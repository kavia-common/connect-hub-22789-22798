{"is_source_file": true, "format": "C#", "description": "This file implements an authentication service for a backend application, handling JWT token creation, user registration, and login logic. It defines configuration settings for JWT tokens and provides methods to generate tokens, register new users, and authenticate existing ones.", "external_files": ["System.IdentityModel.Tokens.Jwt", "System.Security.Claims", "System.Text", "FrndAppBackend.DTOs", "FrndAppBackend.Models", "FrndAppBackend.Repositories", "Microsoft.Extensions.Options", "Microsoft.IdentityModel.Tokens"], "external_methods": ["JwtSecurityTokenHandler.CreateToken", "JwtSecurityTokenHandler.WriteToken", "IUserRepository.GetByEmailAsync", "IUserRepository.GetByUserNameAsync", "IUserRepository.AddAsync", "IUserRepository.SaveChangesAsync", "BCrypt.Net.BCrypt.HashPassword", "BCrypt.Net.BCrypt.Verify"], "published": ["AuthService", "CreateToken", "RegisterAsync", "LoginAsync"], "classes": [{"name": "JwtSettings", "description": "Holds configuration settings for JWT tokens, including issuer, audience, signing key, and expiry duration."}, {"name": "AuthService", "description": "Provides authentication functionalities such as token creation, user registration, and login."}], "methods": [{"name": "CreateToken", "description": "Generates a JWT token for a given user summary, including claims like user ID, username, email, and display name, with expiry and signing credentials."}, {"name": "RegisterAsync", "description": "Registers a new user by checking for existing email and username, then hashing password and creating user record, returning a JWT token."}, {"name": "LoginAsync", "description": "Authenticates a user by email/username and password, returning a JWT token upon successful verification."}], "calls": ["JwtSecurityTokenHandler.CreateToken", "JwtSecurityTokenHandler.WriteToken", "IUserRepository.GetByEmailAsync", "IUserRepository.GetByUserNameAsync", "IUserRepository.AddAsync", "IUserRepository.SaveChangesAsync", "BCrypt.Net.BCrypt.HashPassword", "BCrypt.Net.BCrypt.Verify"], "search-terms": ["AuthService", "JWT token creation", "user registration", "user login", "ClaimsIdentity", "JwtSettings", "SigningCredentials", "RegisterAsync", "LoginAsync"], "state": 2, "file_id": 17, "knowledge_revision": 76, "git_revision": "", "revision_history": [{"38": ""}, {"76": ""}], "hash": "1f63a003c9fe4082098133b8102c7908", "format-version": 4, "code-base-name": "frnd_app_backend", "filename": "frnd_app_backend/Services/AuthService.cs"}